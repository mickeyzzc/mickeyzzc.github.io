<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#222" media="(prefers-color-scheme: dark)"><meta name=generator content="Hugo 0.123.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.png><link rel=icon type=image/x-icon href=/imgs/icons/favicon.png><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/favicon.png><meta itemprop=name content="监控系统企业架构演进史-跨地域混合云"><meta itemprop=description content="What is rational is real; and what is real is rational."><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="/imgs/icons/custom.png"><meta itemprop=keywords content="MickeyBee,MickeyZZC,可观测性,Sre,运维,eBPF"><meta property="og:type" content="article"><meta property="og:title" content="监控系统企业架构演进史-跨地域混合云"><meta property="og:description" content="What is rational is real; and what is real is rational."><meta property="og:image" content="/imgs/icons/custom.png"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="/posts/opentelemetry/prometheus-evolution-history-two/"><meta property="og:site_name" content="蓝宝石的傻话"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="蓝宝石的傻话"><meta property="article:published_time" content="2020-10-12 00:00:00 +0000 UTC"><meta property="article:modified_time" content="2020-10-12 00:00:00 +0000 UTC"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.374a99719ba5f425af97e9e4d4b002d4efa1a29ac3be3b0cb855d613bc1fbddf.css><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"path":"prometheus-evolution-history-two","permalink":"/posts/opentelemetry/prometheus-evolution-history-two/","title":"监控系统企业架构演进史-跨地域混合云","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>监控系统企业架构演进史-跨地域混合云 - 蓝宝石的傻话</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>蓝宝石的傻话</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>MickeyBee's BLOG</p><img class=custom-logo-image src=/imgs/icons/custom.png alt=蓝宝石的傻话></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-about"><a href=/about.html class=hvr-icon-pulse rel=section><i class="fa fa-user hvr-icon"></i>关于</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>14</span></a></li><li class="menu-item menu-item-commonweal"><a href=/404.html class=hvr-icon-pulse rel=section><i class="fa fa-heartbeat hvr-icon"></i>公益 404</a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><a href=#前情概述>前情概述：</a></li><li><a href=#架构设计>架构设计</a><ul><li><a href=#跨地域的三层结构设计>跨地域的三层结构设计</a></li><li><a href=#前端查询入口逻辑架构>前端查询入口逻辑架构</a><ul><li><a href=#用thanos-query实现前期的层级架构>用<code>Thanos Query</code>实现前期的层级架构</a></li><li><a href=#引入thanos-query-frontend完成统一前端查询入口>引入<code>Thanos Query Frontend</code>完成统一前端查询入口</a></li><li><a href=#利用kubernetes赋予更具弹性的冗余能力>利用<code>Kubernetes</code>赋予更具弹性的冗余能力</a></li></ul></li></ul></li><li><a href=#自研架构组件>自研架构组件</a><ul><li><a href=#基础设计逻辑>基础设计逻辑</a></li><li><a href=#进阶扩展>进阶扩展</a></li><li><a href=#统一告警系统>统一告警系统</a></li></ul></li><li><a href=#下期期待数据处理-高维度的思考>下期期待：《数据处理-高维度的思考》</a></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=蓝宝石的傻话 src=/imgs/img-lazy-loading.gif data-src=/imgs/avatar.jpeg><p class=site-author-name itemprop=name>蓝宝石的傻话</p><div class=site-description itemprop=description>What is rational is real; and what is real is rational.</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>14</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>10</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>13</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/mickeyzzc title="Github → https://github.com/mickeyzzc" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=https://gitee.com/mickeybee title="Gitee → https://gitee.com/mickeybee" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Gitee
</a></span><span class=links-of-social-item><a href=mailto:mickey_zzc@163.com title="E-Mail → mailto:mickey_zzc@163.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
E-Mail</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://blog.51cto.com/mickeyzzc title=https://blog.51cto.com/mickeyzzc target=_blank>我的51cto博客</a></li><li class=links-of-blogroll-item><a href=https://deepflow.io/ title=https://deepflow.io/ target=_blank>DeepFlow</a></li><li class=links-of-blogroll-item><a href=https://blog.csdn.net/mickey_zzc title=https://blog.csdn.net/mickey_zzc target=_blank>CSDN博客</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=2016-08-11T00:00:00+00:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=31194></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=68></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2023-11-25T00:00:00+00:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/mickeyzzc rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg>
</a><script type=text/javascript src=//sidecar.gitter.im/dist/sidecar.v1.js async></script><script type=text/javascript>((window.gitter={}).chat={}).options={room:"hugo-next/community"}</script><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=/posts/opentelemetry/prometheus-evolution-history-two/><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/imgs/avatar.jpeg"><meta itemprop=name content="蓝宝石的傻话"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="蓝宝石的傻话"><meta itemprop=description content="What is rational is real; and what is real is rational."></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="监控系统企业架构演进史-跨地域混合云"><meta itemprop=description content="前情概述： 在《监控系统企业架构演进史-初入Prometheus》中，监控系统已经从单体架构升级到单IDC分布式架构了。 前一篇文章的内容是适用"></span><header class=post-header><h1 class=post-title itemprop="name headline">监控系统企业架构演进史-跨地域混合云
<a href=https://github.com/mickeyzzc/mickeyzzcblog/tree/main/content/posts/opentelemetry/prometheus-evolution-history-two.md rel="noopener external nofollow noreferrer" target=_blank class="exturl post-edit-link" title=编辑><i class="fa fa-pen-nib"></i></a></h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2020-10-12 00:00:00 +0000 UTC" itemprop="dateCreated datePublished" datetime="2020-10-12 00:00:00 +0000 UTC">2020-10-12</time></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>1481</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>3分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="far fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/posts/opentelemetry/prometheus-evolution-history-two/><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><h2 id=前情概述>前情概述：
<a class=header-anchor href=#%e5%89%8d%e6%83%85%e6%a6%82%e8%bf%b0></a></h2><p>在《监控系统企业架构演进史-初入Prometheus》中，监控系统已经从单体架构升级到单<code>IDC</code>分布式架构了。
前一篇文章的内容是适用于虚拟机部署和容器部署的。<code>Prometheus</code>是云原生时代的产物，一般和<code>Kubernetes</code>配套使用，但是<code>Prometheus</code>本身也能在非<code>Kubernetes</code>取替传统监控如<code>Zabbix</code>使用的。
在该篇文章中，开始以<code>Kubernetes</code>的部署来升级整个监控系统架构，使之在跨地域混合云的业务场景中更具灵活性。</p><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/monitoring-system-2019-2020.png alt></p><h2 id=架构设计>架构设计
<a class=header-anchor href=#%e6%9e%b6%e6%9e%84%e8%ae%be%e8%ae%a1></a></h2><h3 id=跨地域的三层结构设计>跨地域的三层结构设计
<a class=header-anchor href=#%e8%b7%a8%e5%9c%b0%e5%9f%9f%e7%9a%84%e4%b8%89%e5%b1%82%e7%bb%93%e6%9e%84%e8%ae%be%e8%ae%a1></a></h3><p>设计三层区域结构，同时规范区域命名标签化来实现快速辨识服务的地域详细信息。
在第三层中的Cluster和VPC是同级，分别代表集群内或者某网段的隔离服务。</p><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/Thanos-region-zone-query.svg alt></p><h3 id=前端查询入口逻辑架构>前端查询入口逻辑架构
<a class=header-anchor href=#%e5%89%8d%e7%ab%af%e6%9f%a5%e8%af%a2%e5%85%a5%e5%8f%a3%e9%80%bb%e8%be%91%e6%9e%b6%e6%9e%84></a></h3><h4 id=用thanos-query实现前期的层级架构>用<code>Thanos Query</code>实现前期的层级架构
<a class=header-anchor href=#%e7%94%a8thanos-query%e5%ae%9e%e7%8e%b0%e5%89%8d%e6%9c%9f%e7%9a%84%e5%b1%82%e7%ba%a7%e6%9e%b6%e6%9e%84></a></h4><p>利用<code>Thanos</code>内的<code>GRPC</code>通讯协议和聚合查询能力来实现递级数据汇聚到最上层<code>Thanos Query</code>组件，再聚合计算时间线结果集前端展示。</p><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/Thanos-Prometheus-Query-second.svg alt></p><h4 id=引入thanos-query-frontend完成统一前端查询入口>引入<code>Thanos Query Frontend</code>完成统一前端查询入口
<a class=header-anchor href=#%e5%bc%95%e5%85%a5thanos-query-frontend%e5%ae%8c%e6%88%90%e7%bb%9f%e4%b8%80%e5%89%8d%e7%ab%af%e6%9f%a5%e8%af%a2%e5%85%a5%e5%8f%a3></a></h4><p><code>Thanos Query Frontend</code>组件有以下配置能力优化查询，需根据实际情况调整：</p><ul><li><p>时间线的纵向切割查询
比如查15天的数据，由于样本量的数据庞大，会在原始数据读取到内存时导致OOM问题。通过纵向切割比如把15天的聚合查询逻辑拆分成每6小时的聚合查询。
<code>Thanos Query</code>组件就会得到<code>4 * 15</code>个并发查询去完成样本查询并聚合成不同时间段的结果集再拼接展示，且每完成一个子查询聚合均及时释放内存高效优化了资源利用率。</p></li><li><p>查询结果集缓存
通过对查询语句和时间周期的<code>HASH KEY</code>缓存结果集到内存或者<code>Redis</code>以重复利用，减轻上游压力。</p></li></ul><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/Thanos-Prometheus-Query-Frontend.svg alt></p><h4 id=利用kubernetes赋予更具弹性的冗余能力>利用<code>Kubernetes</code>赋予更具弹性的冗余能力
<a class=header-anchor href=#%e5%88%a9%e7%94%a8kubernetes%e8%b5%8b%e4%ba%88%e6%9b%b4%e5%85%b7%e5%bc%b9%e6%80%a7%e7%9a%84%e5%86%97%e4%bd%99%e8%83%bd%e5%8a%9b></a></h4><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/Thanos-Prometheus-Query-Kubernetes.svg alt></p><h2 id=自研架构组件>自研架构组件
<a class=header-anchor href=#%e8%87%aa%e7%a0%94%e6%9e%b6%e6%9e%84%e7%bb%84%e4%bb%b6></a></h2><p>在基于原生开源项目的基础架构下，已基本实现对跨地域混合云的能力。但是要做到企业日常管理还远远不够，需要完善管理架构和前台能力才称得上企业服务。</p><h3 id=基础设计逻辑>基础设计逻辑
<a class=header-anchor href=#%e5%9f%ba%e7%a1%80%e8%ae%be%e8%ae%a1%e9%80%bb%e8%be%91></a></h3><p>为了让整个架构具备灵活性和通用性，分别设计了几个组件：</p><ul><li><code>Self-research service discovery</code> 用于对接第三方系统，比如<code>CMDB</code>，<code>CICD</code>等收集业务系统和资产信息，并计算各个业务系统和基建关联关系，通过地域信息来调度资源信息同步给<code>P-sidcar</code>组件。</li><li><code>P-sidcar</code>用于在边缘管理<code>Prometheus</code>，从 <code>Self-research service discovery</code>得到就近采集器的信息，以<code>http_sd</code>方式给<code>Prometheus</code>发现<code>exporter</code>采集的同时实现精细化<code>label</code>注入。</li><li><code>msg route agent </code>用于对接飞书、钉钉等通讯服务，同时从<code>Conf/Rule Sync</code>同步告警的责任人以实现高效的最后一公里定向信息推送。</li><li><code>A-sidcar</code> 用于对<code>Alertmanger</code>集群的配置管理，并准实时同步抑制策略来对告警实现更精确的管理。</li><li><code>Conf/Rule Sync</code>对接各个边缘组件。准实时同步状态信息和后台管理策略。</li></ul><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/prometheus-self-sys.svg alt></p><h3 id=进阶扩展>进阶扩展
<a class=header-anchor href=#%e8%bf%9b%e9%98%b6%e6%89%a9%e5%b1%95></a></h3><p>底座设计尽量精而简，又不能失去灵活性。在此之上通过自研前台服务、中间件和边缘组件逐步丰富企业能力。</p><ul><li>服务发现组件主打和各种三方系统对接，不限于CMDB/CICD系统，还可以对接工单系统或作业系统。</li><li>告警组件逐步升级为统一告警系统平台，和服务发现组件联动实现更高级的动态调度告警能力。</li><li>配置同步组件和Grafana逐步融合成前台系统，集管理和展示一体。</li></ul><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/monitor-system-one.svg alt></p><p>整个系统的用户侧切面逻辑如下图
<img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/monitor-system-user.svg alt></p><p>到这个阶段，平台已经具备一定的复杂性了，但是对用户而言需要简化他们的理解。</p><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/monitor-system-user-two.svg alt></p><h3 id=统一告警系统>统一告警系统
<a class=header-anchor href=#%e7%bb%9f%e4%b8%80%e5%91%8a%e8%ad%a6%e7%b3%bb%e7%bb%9f></a></h3><p>基本上监控平台发展到一定阶段，告警风暴问题必然会开始困扰企业内部各个技术支撑部门。告警收敛治理就会优先提上日程。
这个时候，告警的组件就可以从一开始的只是告警定向推送能力逐步丰富周边能力了。</p><p><img src=/imgs/img-lazy-loading.gif data-src=/posts/opentelemetry/images/monitor-alert-system.svg alt></p><h2 id=下期期待数据处理-高维度的思考>下期期待：《数据处理-高维度的思考》
<a class=header-anchor href=#%e4%b8%8b%e6%9c%9f%e6%9c%9f%e5%be%85%e6%95%b0%e6%8d%ae%e5%a4%84%e7%90%86-%e9%ab%98%e7%bb%b4%e5%ba%a6%e7%9a%84%e6%80%9d%e8%80%83></a></h2></div><footer class=post-footer><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=reward-container><div><i class="fa-solid fa-mug-hot"></i>请我喝杯咖啡吧 ヾ(^▽^*)))</div><button>
赞赏</button><div class=post-reward><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/ali-pay.png alt="蓝宝石的傻话 - 支付宝">
<span>支付宝</span></div><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/imgs/wechat-pay.png alt="蓝宝石的傻话 - 微信">
<span>微信</span></div></div></div><div class=followme><span>欢迎关注我的其它发布渠道</span><div class=social-list><div class=social-item><a target=_blank class=social-link href=/atom.xml><span class=icon><i class="fa fa-rss"></i>
</span><span class=label>RSS</span></a></div></div></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/posts/opentelemetry/prometheus-evolution-history-three/ rel=next title=监控系统企业架构演进史-拨测监控><i class="fa fa-chevron-left"></i> 监控系统企业架构演进史-拨测监控</a></div><div class="post-nav-prev post-nav-item"><a href=/posts/opentelemetry/prometheus-evolution-history-one/ rel=prev title=监控系统企业架构演进史-初入Prometheus>监控系统企业架构演进史-初入Prometheus
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2010 - 2024
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>蓝宝石的傻话</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.123.0 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=beian><a href=https://beian.miit.gov.cn target=_blank>粤ICP备2023145803号</a>
<img src=/imgs/gongan.png alt=粤公网安备>
<a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44011102001194" target=_blank>粤公网安备 44011102001194 号</a></div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#222","enable":true,"save":"manual"},"copybtn":true,"darkmode":true,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":true,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":null,"sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.b0c78e5a4df586ee46d02716ffa91a4a322e56763e04e91eb2ba052c9469ed02.js defer></script></body></html>